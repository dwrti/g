name: Ultimate Direct Uploader

on:
  workflow_dispatch:
    inputs:
      video_url:
        description: 'ุฑุงุจุท ุงูููุฏูู'
        required: true
      file_name:
        description: 'ุงุณู ุงูููู'
        required: true

jobs:
  upload:
    runs-on: ubuntu-latest
    steps:
      - name: Transfer
        run: |
          # 1. ุชุฌููุฒ ุงูุงุณู
          FINAL_NAME=$(echo "${{ github.event.inputs.file_name }}" | sed 's/\.mp4//g' | tr ' ' '_').mp4

          # 2. ุงูุชุญููู
          echo "โฌ๏ธ ุฌุงุฑู ุชุญููู ุงูููุทุน..."
          curl -kL "${{ github.event.inputs.video_url }}" -o "$FINAL_NAME"

          # 3. ุงูุฑูุน ูุงูุญุตูู ุนูู ุงูุฑุงุจุท ุงููุจุงุดุฑ ููุฑุงู
          echo "๐ค ุฌุงุฑู ุงูุฑูุน ูุงูุญุตูู ุนูู ุงูุฑุงุจุท..."
          # ูููุน Lit.sh ูุนูุฏ ุงูุฑุงุจุท ุงููุจุงุดุฑ ูู ุซุงููุฉ ูุงุญุฏุฉ
          DIRECT_URL=$(curl -k --upload-file "./$FINAL_NAME" https://lit.sh)

          # 4. ุงููุชูุฌุฉ ุงูููุงุฆูุฉ
          echo "--------------------------------------------------"
          echo "โ ุชู ุงูุฑูุน ุจูุฌุงุญ!"
          echo "๐ ุงูุฑุงุจุท ุงููุจุงุดุฑ ูููุดุงูุฏุฉ ูุงูุชุญููู:"
          echo "$DIRECT_URL"
          echo "--------------------------------------------------"
