name: Direct Link Uploader (Up to 500MB)

on:
  workflow_dispatch:
    inputs:
      video_url:
        description: 'ุถุน ุฑุงุจุท ุงูููุทุน ููุง'
        required: true
      file_name:
        description: 'ุงูุชุจ ุงุณู ุงูููู'
        required: true

jobs:
  upload_job:
    runs-on: ubuntu-latest
    steps:
      - name: Process Video
        run: |
          # 1. ุชุฌููุฒ ุงูุงุณู
          SAFE_NAME=$(echo "${{ github.event.inputs.file_name }}" | sed 's/\.mp4//g' | tr ' ' '_')
          FINAL_FILE="${SAFE_NAME}.mp4"

          # 2. ุชุญููู ุงูููุทุน
          echo "๐ ุฌุงุฑู ุชุญููู ุงูููุทุน..."
          curl -L "${{ github.event.inputs.video_url }}" -o "$FINAL_FILE"

          # 3. ุงูุฑูุน ุฅูู Quax.org (ูุนุทู ุฑุงุจุท ูุจุงุดุฑ ูุซู Catbox)
          echo "๐ค ุฌุงุฑู ุงูุฑูุน ูุชุนุทูู ุฑุงุจุท ูุจุงุดุฑ..."
          RESPONSE=$(curl -F "file=@$FINAL_FILE" https://quax.org/api/upload)
          
          # 4. ุนุฑุถ ุงูุฑุงุจุท ุงูููุงุฆู
          echo "--------------------------------------------------"
          echo "โ ุชู ุงูุฑูุน ุจูุฌุงุญ!"
          echo "๐ ุงูุฑุงุจุท ุงููุจุงุดุฑ ุงูุฎุงุต ุจู:"
          echo "$RESPONSE"
          echo "--------------------------------------------------"
